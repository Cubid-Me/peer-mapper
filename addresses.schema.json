{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Deployment Addresses",
  "description": "Tracks deployed contract addresses across networks with version history",
  "type": "object",
  "properties": {
    "version": {
      "type": "string",
      "description": "Version of the addresses.json format"
    },
    "networks": {
      "type": "object",
      "patternProperties": {
        "^[a-z0-9-]+$": {
          "type": "object",
          "properties": {
            "chainId": {
              "type": "integer",
              "description": "EVM chain ID"
            },
            "deployments": {
              "type": "object",
              "properties": {
                "current": {
                  "type": "object",
                  "properties": {
                    "version": {
                      "type": "string",
                      "description": "Deployment version tag (e.g., v1, v2, dev)"
                    },
                    "timestamp": {
                      "type": "string",
                      "description": "ISO 8601 timestamp of deployment"
                    },
                    "SchemaRegistry": {
                      "type": "string",
                      "description": "EAS SchemaRegistry contract address"
                    },
                    "EAS": {
                      "type": "string",
                      "description": "EAS core contract address"
                    },
                    "schemas": {
                      "type": "object",
                      "patternProperties": {
                        "^[A-Za-z0-9]+$": {
                          "type": "object",
                          "properties": {
                            "uid": {
                              "type": "string",
                              "description": "Schema UID (bytes32 hex)"
                            },
                            "resolver": {
                              "type": "string",
                              "description": "Resolver contract address"
                            },
                            "revocable": {
                              "type": "boolean",
                              "description": "Whether attestations can be revoked"
                            }
                          }
                        }
                      }
                    },
                    "FeeGate": {
                      "type": "string",
                      "description": "FeeGate resolver contract address"
                    }
                  }
                },
                "history": {
                  "type": "array",
                  "description": "Historical deployments (oldest first)",
                  "items": {
                    "type": "object",
                    "properties": {
                      "version": {
                        "type": "string"
                      },
                      "timestamp": {
                        "type": "string"
                      },
                      "reason": {
                        "type": "string",
                        "description": "Reason for redeployment"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
